---
import BaseLayout from '../layouts/BaseLayout.astro';
import { getReleaseData } from '../lib/release-data';

interface Props {
  releaseSlug?: string;
}

const { releaseSlug } = Astro.props as Props;
const { release, pluginData, filtersData, eventsData } = getReleaseData(releaseSlug);
const basePath = release.basePath;
---

<BaseLayout
  title="About"
  basePath={basePath}
  release={release.slug}
  pluginData={pluginData}
  filtersData={filtersData}
  eventsData={eventsData}
>
  <article class="card border border-base-300 bg-base-100 shadow-sm">
    <div class="card-body">
      <h1 class="card-title text-4xl">About Open edX Plugins Browser</h1>

      <div class="space-y-5 leading-relaxed text-base-content/85">
        <section class="space-y-2">
          <h2 class="text-2xl font-semibold">What is this?</h2>
          <p>
            The Open edX Plugins Browser is an automatically updated catalog of all frontend plugin
            slots available across Open edX's ecosystem of micro-frontend applications (MFEs).
          </p>
        </section>

        <section class="space-y-2">
          <h2 class="text-2xl font-semibold">Why does this exist?</h2>
          <p>
            Open edX adopted a plugin-based architecture for frontend customization using the
            <strong>Frontend Plugin Framework (FPF)</strong>. This lets site operators and
            developers extend MFEs without forking core code.
          </p>
          <p>
            Discovering available plugin slots previously required manual repository browsing. This
            catalog centralizes that information.
          </p>
        </section>

        <section class="space-y-2">
          <h2 class="text-2xl font-semibold">How does it work?</h2>
          <p>This site collects data from the Open edX GitHub organization every day:</p>
          <ol class="list-decimal space-y-1 pl-6">
            <li>GitHub Actions runs a scheduled task to fetch frontend repositories.</li>
            <li>Each repository is scanned for a <code>/src/plugin-slots</code> directory.</li>
            <li>Metadata is extracted from README files and TypeScript definitions.</li>
            <li>Data is stored in JSON and committed to this repository.</li>
            <li>Astro generates static HTML from that data.</li>
            <li>The site is deployed to GitHub Pages.</li>
          </ol>
        </section>

        <section class="space-y-2">
          <h2 class="text-2xl font-semibold">What can I do with this information?</h2>
          <ul class="list-disc space-y-1 pl-6">
            <li>Understand available customization points in each MFE.</li>
            <li>Inspect properties and operations each slot supports.</li>
            <li>Find source code for each plugin slot.</li>
            <li>Integrate custom plugins into Open edX.</li>
          </ul>
        </section>

        <section class="space-y-2">
          <h2 class="text-2xl font-semibold">How do I use plugin slots?</h2>
          <p>
            See
            <a href="https://docs.openedx.org/en/latest/site_ops/how-tos/use-frontend-plugin-slots.html" target="_blank" rel="noopener noreferrer" class="link link-primary">
              Open edX documentation on Frontend Plugin Slots
            </a>
            for detailed instructions.
          </p>
        </section>

        <section class="space-y-2">
          <h2 class="text-2xl font-semibold">What about the data?</h2>
          <p>
            All data is collected from publicly available Open edX repositories. The browser source
            code is open source on
            <a href="https://github.com/tecoholic/openedx-plugin-slots-browser" target="_blank" rel="noopener noreferrer" class="link link-primary">
              GitHub
            </a>.
          </p>
        </section>

        <section class="space-y-2">
          <h2 class="text-2xl font-semibold">Is something missing or wrong?</h2>
          <ol class="list-decimal space-y-1 pl-6">
            <li>Confirm plugin slots are documented in <code>/src/plugin-slots</code>.</li>
            <li>
              Open an issue in the relevant
              <a href="https://github.com/openedx" target="_blank" rel="noopener noreferrer" class="link link-primary">
                Open edX repository
              </a>.
            </li>
            <li>
              Or report it in
              <a href="https://github.com/tecoholic/openedx-plugin-slots-browser/issues" target="_blank" rel="noopener noreferrer" class="link link-primary">
                this browser's repository
              </a>.
            </li>
          </ol>
        </section>
      </div>
    </div>
  </article>
</BaseLayout>
